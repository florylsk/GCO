-- Crear base de datos y el usuario para controlarla
DROP USER IF EXISTS 'GCO'@'localhost';
DROP DATABASE IF EXISTS GCO;
CREATE DATABASE GCO;
CREATE USER 'GCO'@'localhost' IDENTIFIED BY 'Kappa123';
GRANT ALL PRIVILEGES ON GCO.* TO 'GCO'@'localhost';
FLUSH PRIVILEGES;

use GCO;
drop table if exists users;
create table users(username varchar(100) primary key, password varchar(100) not null, firstname varchar(100) not null, lastname varchar(100) not null, mail varchar(100) not null, photo mediumblob);
insert into users values('ajimenez','ea656e55ff50a8182861aa536820dfe04af967fd8fd6f946aa4a435ecf6e3b05','Alvaro','Jimenez','ajimenez@test.com',null);

drop table if exists admins;
create table admins(username varchar(100) primary key, password varchar(100) not null, firstname varchar(100) not null, lastname varchar(100) not null, mail varchar(100) not null);
insert into admins values('jalvarez','80eb46f6a21696a3115e8c764888d1ef6c08c887f636e40d6f82a3eb6e837f60','Javier','Alvarez','jalvarez@test.com');
insert into admins values('phernandez','ad5e950392eacccdcce4385579558a2855db43f354a238456e1c88d260021a45','Pablo','Hernandez','phernandez@test.com');

drop table if exists recetas;
create table recetas(id mediumint primary key AUTO_INCREMENT,nombre varchar(100), ingredientes varchar(500), descripcion varchar(2500), photo mediumblob);
insert into recetas values(1,"Bizcocho sencillo de manzana y limón","Mantequilla en punto pomada 110 ,Azúcar 110 g ,Huevos 4 ,Harina de trigo 250 g ,Levadura química 10 g ,Sal una pizca ,Ralladura de limón 1,Zumo de limón 1 ,Esencia de vainilla 5 ml ,Manzana pequeña 3 ,Azúcar glasé para el glaseado final 100 g","Batimos la mantequilla y el azúcar en un recipiente hondo y amplio hasta obtener una mezcla cremosa y blanquecina. Añadimos los huevos, de uno en uno, y mezclamos bien antes de incorporar el siguiente. Añadimos la esencia de vainilla, el zumo de limón (reservando dos cucharadas para el glaseado final) y removemos para integrar.
En un recipiente separado mezclamos bien la harina, la levadura química, la sal y la ralladura del limón. Incorporamos la mezcla al recipiente anterior, poco a poco y removiendo bien que no queden grumos. Pelamos y rallamos las manzanas y removemos suavemente hasta obtener una masa homogénea. Rellenamos con ella un molde de cake de 28 cm, con la base y paredes engrasadas y cubiertas de papel vegetal.
Introducimos el molde en la mitad inferior del horno, precalentado a 180 ºC con calor arriba y abajo, y cocemos durante 45-50 minutos aproximadamente. Dejamos enfriar antes de cubrir con el glaseado de limón, que preparamos mezclando el azúcar glasé con las dos cucharadas de zumo de limón reservadas.
", null);
insert into recetas values(2,"Pan de plátano fitness","100 g de harina de avena, 50 g de copos de avena, 15 g de levadura de cerveza en copos, 1 huevo, 3 claras de huevo, 3 plátanos maduros, 10 g de canela molida, 50 g de nueces, 25 ml de leche desnatada, 10 g de estevia, 1 plátano en su punto, esencia de vainilla al gusto.","Pelamos los plátanos (cuanto más maduros, mejor) y machacamos con un tenedor. Agregamos harina de avena y los copos, las nueces picadas, el huevo, la levadura de cerveza, la esencia de vainilla, la canela y la estevia (opcional). Mezclamos hasta homogeneizar. Si la masa obtenida queda demasiado espesa, añadimos un poco de leche. Batimos las claras a punto de nieve y las incorporamos a la masa anterior, poco a poco y con movimientos envolventes y suaves para que el aire no se pierda y logremos un pan esponjoso. Cortamos el plátano en su punto a lo largo, en dos mitades. Espolvoreamos la parte plana con un poco de harina y colocamos sobre la masa (con la parte enharinada hacia abajo -con esto conseguimos que se mantenga en la superficie-). Forramos un molde de cake (alargado) con papel de horno y rellenamos con la masa. Cocemos en el horno, precalentado a 180° C, durante unos 40-45 minutos o hasta que al introducir un cuchillo éste salga limpio y seco.",null);
insert into recetas values(3,"Bizcocho de mandarina y almendra","200g de mandarina, 4 huevos, 100g de azúcar, media ralladura de limón, 2g de sal, 100ml de AOVE, 180g de almendra molida, 10g de levadura química y azúcar glasé para decorar.","Lavar muy bien las mandarinas y retirar los posibles rabitos que aún queden. Llenar una olla con agua y cocer la fruta sin dejar que hierva a borbotones durante unos 20-30 minutos, hasta que estén muy tiernas. Dejar escurrir y enfriar. Precalentar el horno a 180ºC y preparar un molde redondo de unos 20 cm de diámetros. Cuando no quemen, terminar de secar y cortar en cuartos, sacando los huesos que puedan tener. Triturar con una batidora o procesador de alimentos hasta tener una pasta homogénea. Batir con batidora de varillas los huevos, el azúcar, la ralladura de limón y la sal, hasta que quede esponjoso; añadir el aceite de oliva. Batir un poco más hasta que quede homogéneo. Incorporar la mandarina, la almendra molida y la levadura química, mezclar con suavidad hasta integrarlo todo. Verter en el molde y hornear durante unos 45-50 minutos. Debe quedar ligeramente húmedo por el centro. Esperar un poco antes de desmoldar y dejar enfriar completamente sobre una rejilla. Decorar con azúcar glasé tamizado, si se desea.",null);
insert into recetas values(4,"Bizcocho de aguacate con glaseado de yogur y nueces","2 aguacates, 3 huevos, 160g de azúcar, 1 limón, 40ml de AOVE arbequina, 240g de harina de repostería, 1 sobre de levadura química, 2 cucharadas soperas de yogur natural, 3 cucharadas soperas de azúcar glas y 6 nueces.","Comenzamos batiendo los huevos con el azúcar y el aceite de oliva virgen extra hasta obtener una mezcla cremosa. Por otro lado, trituramos los aguacates con el zumo de medio limón y mezclamos con los huevos batidos con el azúcar y el aceite. Tamizamos la harina y la agregamos, junto a la levadura química, batiendo hasta obtener una mezcla homogénea. No importa si queda algún grumo porque luego se deshacen en el horno. Enharinamos un molde y metemos nuestra mezcla, horneándola durante 40 minutos a 180ºC. Para hacer el glaseado, batimos el yogur con el azúcar glas. Sacamos el bizcocho de aguacate del horno cuando podamos meter una brocheta y veamos que sale limpia. Dejamos enfriar y añadimos el glaseado, dejando que chorree por los bordes. Finalmente, decoramos con unas nueces de California y listo para disfrutar de una merienda inolvidable.",null);
insert into recetas values(5,"Bizcocho de calabaza asada sin gluten","220g de puré de calabaza asada, 80g de yogur natural, 4 huevos, 100G de AOVE, 5ml de esencia de vainilla, 120g de panela o azúcar moreno, 100g de harina de avena, 100g de harina de arroz, 100g de harina de maíz, 60g de almendra molida, 4g de sal, 8g de levadura química, 3 cucharaditas de bicarbonato sódico, 1 cucharadita y media de canela molida, 1 cucharadita de jengibre molido, 1 pizca de nuez moscada y azúcar glasé para decorar.","Precalentar el horno a 175º C y preparar un molde redondo de unos 20 cm de diámetro o uno rectangular de unos 22 cm de largo. Cuando más grande, más bajito quedará el bizcocho. Engrasar o forrar con papel sulfurizado antiadherente, y reservar. Disponer en un recipiente el puré de calabaza asada con los huevos, el yogur, el aceite y la esencia de vainilla. Batir bien con una batidora de varillas, añadir la panela y volver a batir hasta obtener una crema espesa homogénea. Aparte mezclar con unas varillas manuales todas las harinas, la levadura, el bicarbonato, las especias y la sal. Echar poco a poco esta mezcla a la primera preparación, combinando con las varillas manuales. Procurar que quede una masa bien homogénea sin grumos secos. Llenar el molde y hornear a media altura durante unos 45-55 minutos. Dependerá del tipo de horno y el molde, así que mejor vigilar a partir de los 40-45 minutos. Sacar, esperar unos minutos fuera del horno y desmoldar para dejar enfriar por completo sobre una rejilla.",null);
insert into recetas values(6,"Bizcocho integral de plátano con cúrcuma y pistachos","300g de plátano maduro, 2 huevos grandes, 50g de miel, 60g de mantequilla sin sal derretida, 5ml de esencia de vainilla, 5ml de vinagre de manzana o arroz, 60ml de leche o bebida vegetal, 150g de espelta integral, 100g de almendra molida, 6g de bicarbonato sódico, 4g de levadura química, 2 cucharaditas de cúrcuma molida, una pizca de pimienta negra molida, 2g de sal y 100g de pistachos.","Precalentar el horno a 180ºC y engrasar o cubrir con papel sulfurizado un molde rectangular de unos 22-25 cm de largo. Pelar los plátanos y pesar hasta obtener unos 300 g (más o menos). Chafar con un tenedor en un recipiente mediano; podemos triturarlos más o menos, según si preferimos tener algún trocito de fruta entera en la miga. Añadir los huevos, la mantequilla derretida ligeramente enfriada, la miel, el vinagre, la vainilla y la leche, y batir con el mismo tenedor o unas varillas manuales. Aparte, mezclar con unas varillas finas la harina integral de espelta, la almendra molida, la levadura, el bicarbonato, las especias y la sal. Incorporar en dos o tres veces esta mezcla a la primera masa, mezclando suavemente con las varillas, hasta obtener una masa homogénea sin grumos secos. Añadir ahora pistachos picados si se desea, o verter en el molde y echarlos solo por encima, presionando ligeramente. Hornear a media altura durante unos 50-55 minutos. Comprobar que está listo pinchando con un palillo, esperar un poco fuera del horno, desmoldar y dejar enfriar sobre rejilla.",null);
insert into recetas values(7,"Bizcocho de chocolate y calabacín","300g de calabacín, 125g de AOVE, 80 de azúcar de coco, 250g de harina de arroz, 3 huevos, 16g de levadura química, 50g de cacao en polvo sin azúcar, 80g de leche de coco y 100g de chocolate negro.","Comenzaremos precalentando el horno a 180 grados centígrados con calor arriba y abajo. Seguidamente lavamos bien el calabacín, lo troceamos y lo trituramos en un robot de cocina o con una batidora. Lo pasamos a un colador y lo apretamos ligeramente con una cuchara para que suelte parte del agua. Reservamos. En un bol, batimos los huevos con el aceite. Añadimos poco a poco la harina tamizada mezclada con el azúcar, cacao en polvo y la levadura. Incorporamos estos ingredientes a la mezcla. agregamos el calabacín rallado. Vertemos en un molde engrasado y cocemos durante 40 minutos. Calentamos el chocolate hasta que se derrita, al microondas o al baño maría y le añadimos poco a poco removiendo con una espátula la leche de coco. Repartimos por la superficie del bizcocho.",null);
insert into recetas values(8,"Bizcocho con manzana y crema pastelera","Para la crema pastelera: 500g de leche, 3 huevos, 50g de maizena, 100g de azúcar, 1 cucharadita de azúcar vainillado, 1 pizca de canela molida. Para el bizcocho: 4 manzanas, 2 cucharadas de zumo de limón, 4 huevos, 200g de azúcar, 1 pellizco de canela molida, 1 cucharadita de azúcar vainillado, 100g de aceite de girasol, 200g de nata líquida, 330g de harina de repostería, un pellizco de sal, 2 sobres de levadura química y 150g de mermelada de albaricoque.","Para hacer la crema pastelera con Thermomix, ponemos en el vaso todos los ingredientes y programamos 7 min/90ºC/vel 4. Vertemos en una manga pastelera con boquilla lisa, dejamos templar y reservamos en el frigorífico. Para hacerla sin Thermomix, calentamos la leche con la canela en polvo, sin que llegue a hervir. En un bol mezclamos la harina tamizada con la maicena, el azúcar vainillado y el azúcar, incorporamos las yemas y un poco de leche y batimos bien con unas varillas. Añadimos esta mezcla a la leche y la llevamos a ebullición a fuego lento sin dejar de remover con una cuchara de madera hasta que espese. Retiramos del fuego, vertemos en una manga pastelera con boquilla lisa, dejamos templar y reservamos en el frigorífico. En ambas preparaciones, pelamos las manzanas, las cortamos a cuartos, retiramos las semillas y cortamos cada cuarto en láminas no demasiado finas. Las ponemos en un bol y las regamos con el zumo de limón. Las reservamos. Precalentamos el horno a 180ºC. Forramos con papel de hornear un molde de 30x40 cm y lo reservamos también. Para hacer el bizcocho con Thermomix, ponemos en el vaso los huevos, el azucar, la canela y el azúcar vainillado y batimos 3 min/50ºC/vel 5. Añadimos el aceite y la nata y mezclamos 10 seg/vel 5. Incorporamos la harina, la sal y la levadura y mezclamos 10 seg/vel 6. Terminamos de mezclar con la espátula y vertemos en el molde preparado. Para hacer el bizcocho sin Thermomix, batimos los huevos con el azúcar vainillado y el azúcar hasta que la masa blanquee. Añadimos la canela, el aceite y la nata y volvemos a batir. Cernimos la harina, la sal y la levadura, las añadimos a la mezcla anterior y removemos con una espátula realizando movimientos envolventes. Vertemos en el molde preparado. Para las dos preparaciones, con la crema pastelera formamos una rejilla sobre sobre la masa de bizcocho, dejando cuadrados de aproximadamente 3-4 cm. Repartimos las láminas de manzana en los huecos y horneamos durante 35 minutos. Retiramos el bizcocho de horno y lo pincelamos con la mermelada de albaricoque. Cortamos en porciones y servimos.",null);
insert into recetas values(9,"Bizcocho de fresas y nata","230g de aceite de girasol, 350g de harina de trigo, 250g de azúcar, 100g de nata líquida para montar, 4 huevos grandes, 1 sobre de levadura química y 12 fresas.","Precalentamos el horno a 190 grados centígrados con calor arriba y abajo. Engrasamos un molde redondo, mejor desmontable, con un poco de mantequilla derretida. En un bol batimos los huevos a temperatura ambiente junto con el azúcar hasta que doblen el volumen y blanqueen. Seguidamente le añadimos el aceite en chorro fino y la nata ligeramente montada y mezclamos. Tamizamos la harina junto con la levadura química y la incorporamos a la mezcla. Lavamos y picamos las fresas y las rebozamos con una cucharada de harina, introduciéndolas en la masa suavemente. Vertemos la mezcla en el molde y horneamos durante cuarenta y cinco minutos aproximadamente o hasta que al pinchar el bizcocho con un palillo éste salga limpio.",null);
insert into recetas values(10,"Pastel de melocotón y tomillo","125g de harina de reposterías, 4g de levadura química, 1 pizca de sal, 1 cucharadita de tomillo seco, 100g de azúcar, 7g de azúcar vainillado, 1 huevo grande a temperatura ambiente, 125ml de buttermilk o de leche mezclada con una cucharadita de zumo de limón, 50g de mantequilla sin sal a temperatura ambiente, 1 melocotón grande, azúcar extra para espolvorear.","Precalentar el horno a 180º C y preparar un molde redondo rizado de unos 22 cm de diámetro, engrasándolo bien. Tamizar en un cuenco la harina con la levadura química, la sal y el tomillo. En otro recipiente, batir la mantequilla troceada con el azúcar y el azúcar vainillado, usando una batidora de varillas, hasta que quede una mezcla suave. Añadir el huevo y batir un poco más. Incorporar la mezcla de harina y el buttermilk alternando cada adición, batiendo a velocidad baja después de cada vez, empezando y terminando con la harina. Repartir la masa en el molde, igualando la superficie con el dorso de una espátula o cuchara. Lavar bien y trocear el melocotón en gajos, dejando o quitando la piel al gusto. Repartir sobre la superficie de la masa, presionando ligeramente. Espolvorear con un poco más de azúcar y de tomillo. Hornear sobre una rejilla durante unos 35 minutos, hasta que esté bien dorado. Dejar enfriar completamente antes de servir. Si el molde es desmontable, retirar cuando se haya enfriado un poco y dejar sobre una rejilla.",null);
select * from recetas;


drop table if exists records;
create table records(username varchar(100),firstname varchar(100), lastname varchar(100), fecha_inicio datetime,fecha_salida datetime);
select * from records;